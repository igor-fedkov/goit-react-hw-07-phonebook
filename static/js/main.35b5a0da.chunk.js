(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{53:function(t,n,e){},54:function(t,n,e){},90:function(t,n,e){"use strict";e.r(n);var r=e(1),a=e(0),c=e(11),o=e.n(c),i=e(12),u=(e(53),e(54),e(23)),s=function(t){return t.contacts.items},d=function(t){return t.contacts.loading},b=function(t){return t.contacts.filter},l=function(t){return t.contacts.idForEdit},f=Object(u.a)([s,b],(function(t,n){return t.length<2?{filteredContacts:t}:{filteredContacts:t.filter((function(t){return t.name.toLowerCase().includes(n.toLowerCase())}))}})),j=Object(u.a)([s,l],(function(t,n){return t.find((function(t){return t.id===n}))})),p=e(4),O=Object(p.b)("contacts/getContactsRequest"),h=Object(p.b)("contacts/getContactsSuccess"),m=Object(p.b)("contacts/getContactsError"),v=Object(p.b)("contacts/addContactRequest"),x=Object(p.b)("contacts/addContactSuccess"),C=Object(p.b)("contacts/addContactError"),g=Object(p.b)("contacts/editContactRequest"),w=Object(p.b)("contacts/editContactSuccess"),y=Object(p.b)("contacts/editContactError"),k=Object(p.b)("contacts/deleteContactRequest"),E=Object(p.b)("contacts/deleteContactSuccess"),N=Object(p.b)("contacts/deleteContactError"),S=Object(p.b)("PHONEBOOK/CHANGE_FILTER"),F=Object(p.b)("PHONEBOOK/SET_EDIT_CONTACT_ID"),I=e(21),D=e.n(I);D.a.defaults.baseURL="http://localhost:4000";var T=e(14),X=e(15),A=e(18),B=e(17),L=e(91),P=e(5),q=e(2),R=e(3),K={mainColor:"#1933c9",hoverColor:"#0e2085",boxShadow:"0px 2px 7px 0px rgba(34, 60, 80, 0.2)"},M={input:"\n\t\tdisplay: block;\n\t\tpadding: 10px;\n\n\t\twidth: 100%;\n\t\tbox-sizing: border-box;\n\t\tborder-radius: 4px;\n\t\tborder: 1px solid black;\n\n\t\tfont-size: 14px;\n\n\t\t&&:focus {\n\t\t\tborder: 1px solid ".concat(K.mainColor,";\n\t\t\toutline: none;\n\t}"),container:"\n\t\tpadding: 10px;\n\t\twidth: 450px;\n\t\tbox-shadow: ".concat(K.boxShadow,";\n\t")};function _(){var t=Object(q.a)(["\n\tpadding: 8px;\n\n\twidth: 100%;\n\tborder-radius: 4px;\n\tbackground-color: ",";\n\tcolor: white;\n\n\t&&:hover {\n\t\tbackground-color: ",";\n\t}\n"]);return _=function(){return t},t}function z(){var t=Object(q.a)(["\n\t","\n"]);return z=function(){return t},t}function H(){var t=Object(q.a)(["\n\twidth: 100%;\n\tdisplay: block;\n\tmargin-bottom: 10px;\n"]);return H=function(){return t},t}function J(){var t=Object(q.a)(["\n\tpadding: 10px;\n\twidth: 450px;\n\tbox-shadow: ",";\n"]);return J=function(){return t},t}var U=R.a.form(J(),K.boxShadow),G=R.a.label(H()),W=R.a.input(z(),M.input),Q=R.a.button(_(),K.mainColor,K.hoverColor),V=function(t){Object(A.a)(e,t);var n=Object(B.a)(e);function e(){var t;Object(T.a)(this,e);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=n.call.apply(n,[this].concat(a))).state={name:"",number:""},t.onInputChange=function(n){var e=n.target,r=e.name,a=e.value;t.setState(Object(P.a)({},r,a))},t.onSubmit=function(n){n.preventDefault();var e=t.state,r=e.name,a=e.number;(0,t.props.onSubmitContact)(r,a)&&t.setState({name:"",number:""})},t}return Object(X.a)(e,[{key:"componentDidMount",value:function(){var t=this.props,n=t.startName,e=t.startNumber;this.setState({name:n,number:e})}},{key:"render",value:function(){var t=this.state,n=t.name,e=t.number,a=this.props.btnCaption;return Object(r.jsxs)(U,{onSubmit:this.onSubmit,children:[Object(r.jsxs)(G,{children:["Name",Object(r.jsx)(W,{type:"text",name:"name",value:n,onChange:this.onInputChange})]}),Object(r.jsxs)(G,{children:["Number",Object(r.jsx)(W,{type:"tel",name:"number",value:e,onChange:this.onInputChange})]}),Object(r.jsx)(Q,{type:"submit",children:a})]})}}]),e}(a.Component),Y=e(92);function Z(){var t=Object(q.a)(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\n\twidth: 50%;\n"]);return Z=function(){return t},t}function $(){var t=Object(q.a)(["\n\n"]);return $=function(){return t},t}function tt(){var t=Object(q.a)(["\n\n"]);return tt=function(){return t},t}function nt(){var t=Object(q.a)(["\n\t","\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tmargin: 2px 0;\n\n\ttransition: all 250ms;\n\n\t&.fade-enter {\n\t\ttransform: translateX(-100%);\n\t}\n\n\t&.fade-enter-active {\n\t\ttransform: translateX(0);\n\t}\n\n\t&.fade-exit {\n\t\ttransform: translateX(0);\n\t}\n\n\t&.fade-exit-active {\n\t\ttransform: translateX(-100%);\n\t}\n"]);return nt=function(){return t},t}function et(){var t=Object(q.a)(["\n\tpadding: 0;\n\twidth: 26px;\n\theight: 26px;\n\tfont-size: 14px;\n\tbackground-color: #fa5538;\n\tborder-color: transparent;\n\tborder-radius: 2px;\n\tcolor: white;\n"]);return et=function(){return t},t}var rt=R.a.button(et()),at=R.a.li(nt(),M.container),ct=R.a.span(tt()),ot=R.a.span($()),it=R.a.div(Z()),ut=function(t){var n=t.id,e=t.name,a=t.number,c=t.deleteContact,o=t.setEditContactId;return Object(r.jsxs)(at,{onDoubleClick:function(){return o(n)},children:[Object(r.jsxs)(ct,{children:[e,":"]}),Object(r.jsxs)(it,{children:[Object(r.jsx)(ot,{children:a}),Object(r.jsx)(rt,{type:"button",onClick:function(){return c(n)},children:"\u2716"})]})]})},st=Object(i.b)(null,(function(t){return{deleteContact:function(n){return t(function(t){return function(n){n(k()),D.a.delete("/contacts/".concat(t)).then((function(){return n(E(t))})).catch((function(t){n(N(t))}))}}(n))},setEditContactId:function(n){return t(F(n))}}}))(ut);function dt(){var t=Object(q.a)(["\n  padding: 0;\n  list-style-type: none;\n"]);return dt=function(){return t},t}var bt=R.a.ul(dt()),lt=function(t){var n=t.filteredContacts.map((function(t){var n=t.name,e=t.number,a=t.id;return Object(r.jsx)(L.a,{timeout:250,classNames:"fade",unmountOnExit:!0,children:Object(r.jsx)(st,{id:a,name:n,number:e})},a)}));return Object(r.jsx)(bt,{children:Object(r.jsx)(Y.a,{children:n})})},ft=Object(i.b)((function(t){return f(t)}))(lt);function jt(){var t=Object(q.a)(["\n\t","\n\t\n\tmargin-top: 20px;\n\n\ttransition: all 250ms;\n\n\t&.fade-enter {\n\t\ttransform: scale(0);\n\t}\n\n\t&.fade-enter-active {\n\t\ttransform: scale(1);\n\t}\n\n\t&.fade-exit {\n\t\ttransform: scale(1);\n\t}\n\n\t&.fade-exit-active {\n\t\ttransform: scale(0);\n\t}\n"]);return jt=function(){return t},t}function pt(){var t=Object(q.a)(["\n\t","\n"]);return pt=function(){return t},t}function Ot(){var t=Object(q.a)(["\n\tdisplay: block;\n\tmargin-bottom: 10px;\n"]);return Ot=function(){return t},t}var ht=R.a.label(Ot()),mt=R.a.input(pt(),M.input),vt=R.a.div(jt(),M.container),xt=function(t){var n=t.filter,e=t.changeFilter;return Object(r.jsx)(vt,{children:Object(r.jsxs)(ht,{children:["Find contacts by name",Object(r.jsx)(mt,{type:"text",name:"filter",value:n,onChange:e})]})})},Ct=Object(i.b)((function(t){return{filter:b(t)}}),(function(t){return{changeFilter:function(n){return t(S(n.target.value))}}}))(xt);function gt(){var t=Object(q.a)(["\n  position: absolute;\n  right: 50px;\n  top: 10px;\n\n  padding: 10px;\n  width: 200px;\n\n  text-align: center;\n  color: white;\n  background-color: red;\n  border-radius: 5px;\n\n  transition: all 250ms;\n\n  &.fade-enter {\n\t\ttransform: translateX(100%);\n\t}\n\n\t&.fade-enter-active {\n\t\ttransform: translateX(0);\n\t}\n\n  &.fade-exit {\n\t\ttransform: translateX(0);\n\t}\n\n\t&.fade-exit-active {\n\t\ttransform: translateX(100%);\n\t}\n"]);return gt=function(){return t},t}var wt=R.a.div(gt()),yt=document.querySelector("#notification-root"),kt=function(t){var n=t.text;return Object(c.createPortal)(Object(r.jsx)(wt,{children:n}),yt)},Et=e(40),Nt=e.n(Et);function St(){var t=Object(q.a)(["\n  display: flex;\n  margin-top: 20px;\n  align-items: center;\n  justify-content: center;\n"]);return St=function(){return t},t}var Ft=R.a.div(St()),It=function(){return Object(r.jsx)(Ft,{children:Object(r.jsx)(Nt.a,{type:"Circles",color:"#00BFFF",height:70,width:70,timeout:3e3})})};function Dt(){var t=Object(q.a)(["\n  max-width: calc(100vw - 48px);\n  max-height: calc(100vh - 24px);\n\n  background-color: white;\n"]);return Dt=function(){return t},t}function Tt(){var t=Object(q.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n"]);return Tt=function(){return t},t}var Xt=R.a.div(Tt()),At=R.a.div(Dt()),Bt=document.querySelector("#modal-root"),Lt=function(t){Object(A.a)(e,t);var n=Object(B.a)(e);function e(){var t;Object(T.a)(this,e);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=n.call.apply(n,[this].concat(a))).onKeyDown=function(n){var e=t.props.onClose;"Escape"===n.code&&e()},t.onkBackdropClick=function(n){var e=n.target,r=n.currentTarget,a=t.props.onClose;e===r&&a()},t}return Object(X.a)(e,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onKeyDown)}},{key:"render",value:function(){var t=this.props.children;return Object(c.createPortal)(Object(r.jsx)(Xt,{onClick:this.onkBackdropClick,children:Object(r.jsx)(At,{children:t})}),Bt)}}]),e}(a.Component);function Pt(){var t=Object(q.a)(["\n\tcolor ",";\n\ttransition: all 500ms;\n\n\t&.fade-appear {\n\t\ttransform: translateX(-100%);\n\t}\n\n\t&.fade-appear-active {\n\t\ttransform: translateX(0);\n\t}\n"]);return Pt=function(){return t},t}function qt(){var t=Object(q.a)(["\n\tposition: relative;\n\tmargin: 20px auto;\n\tpadding: 10px;\n\n\twidth: 500px;\n\toverflow: hidden;\n"]);return qt=function(){return t},t}var Rt,Kt,Mt,_t,zt=R.a.div(qt()),Ht=R.a.h1(Pt(),K.mainColor),Jt=function(t){Object(A.a)(e,t);var n=Object(B.a)(e);function e(){var t;Object(T.a)(this,e);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=n.call.apply(n,[this].concat(a))).state={showNotification:!1},t.onSubmitAddContact=function(n,e){var r=t.props,a=r.contacts,c=r.addContact;return void 0!==a.find((function(t){return t.name===n}))?(t.setState({showNotification:!0}),void setTimeout((function(){return t.setState({showNotification:!1})}),3e3)):(c(n,e),!0)},t.onSubmitEditContact=function(n,e){var r=t.props,a=r.contacts,c=r.idForEdit,o=r.editName,i=r.editNumber,u=r.editContact,s=r.setEditContactId;if(n!==o||e!==i)return void 0!==a.find((function(t){return t.name===n&&t.id!==c}))?(t.setState({showNotification:!0}),void setTimeout((function(){return t.setState({showNotification:!1})}),3e3)):(u(c,n,e),!0);s(null)},t.onCloseEditModal=function(){(0,t.props.setEditContactId)(null)},t}return Object(X.a)(e,[{key:"componentDidMount",value:function(){this.props.getContacts()}},{key:"render",value:function(){var t=this.state.showNotification,n=this.props,e=n.contacts,a=n.loading,c=n.idForEdit;return Object(r.jsxs)(zt,{children:[Object(r.jsx)(L.a,{in:!0,appear:!0,classNames:"fade",timeout:250,children:Object(r.jsx)(Ht,{children:"PhoneBook"})}),Object(r.jsx)(L.a,{in:t,appear:!0,classNames:"fade",timeout:250,unmountOnExit:!0,children:Object(r.jsx)(kt,{text:"Contact already exists!"})}),Object(r.jsx)(V,{btnCaption:"Add contact",startName:"",startNumber:"",onSubmitContact:this.onSubmitAddContact}),Object(r.jsx)(L.a,{in:e.length>1,appear:!0,classNames:"fade",timeout:250,unmountOnExit:!0,children:Object(r.jsx)(Ct,{})}),a&&Object(r.jsx)(It,{}),Object(r.jsx)(ft,{}),c&&Object(r.jsxs)(Lt,{onClose:this.onCloseEditModal,children:[Object(r.jsx)(V,{btnCaption:"Edit contact",startName:this.props.editName,startNumber:this.props.editNumber,onSubmitContact:this.onSubmitEditContact}),a&&Object(r.jsx)(It,{})]})]})}}]),e}(a.Component),Ut=Object(i.b)((function(t){var n,e;return{contacts:s(t),loading:d(t),idForEdit:l(t),editName:null===(n=j(t))||void 0===n?void 0:n.name,editNumber:null===(e=j(t))||void 0===e?void 0:e.number}}),(function(t){return{getContacts:function(){return t((function(t){t(O()),D.a.get("/contacts").then((function(n){var e=n.data;return t(h(e))})).catch((function(n){t(m(n))}))}))},addContact:function(n,e){return t(function(t,n){return function(e){var r={name:t,number:n};e(v()),D.a.post("/contacts",r).then((function(t){var n=t.data;e(x(n))})).catch((function(t){e(C(t))}))}}(n,e))},editContact:function(n,e,r){return t(function(t,n,e){return function(r){var a={name:n,number:e};r(g()),D.a.put("/contacts/".concat(t),a).then((function(t){var n=t.data;return r(w(n))})).catch((function(t){return r(y(t))}))}}(n,e,r))},setEditContactId:function(n){return t(F(n))}}}))(Jt),Gt=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(Ut,{})})},Wt=e(22),Qt=e(10),Vt=Object(p.c)([],(Rt={},Object(P.a)(Rt,h,(function(t,n){return n.payload})),Object(P.a)(Rt,x,(function(t,n){return[n.payload].concat(Object(Wt.a)(t))})),Object(P.a)(Rt,w,(function(t,n){var e=n.payload;return[].concat(Object(Wt.a)(t),[e])})),Object(P.a)(Rt,E,(function(t,n){var e=n.payload;return t.filter((function(t){return t.id!==e}))})),Rt)),Yt=Object(p.c)("",Object(P.a)({},S,(function(t,n){return n.payload}))),Zt=Object(p.c)(!1,(Kt={},Object(P.a)(Kt,O,(function(){return!0})),Object(P.a)(Kt,h,(function(){return!1})),Object(P.a)(Kt,m,(function(){return!1})),Object(P.a)(Kt,v,(function(){return!0})),Object(P.a)(Kt,x,(function(){return!1})),Object(P.a)(Kt,C,(function(){return!1})),Object(P.a)(Kt,g,(function(){return!0})),Object(P.a)(Kt,w,(function(){return!1})),Object(P.a)(Kt,y,(function(){return!1})),Object(P.a)(Kt,k,(function(){return!0})),Object(P.a)(Kt,E,(function(){return!1})),Object(P.a)(Kt,N,(function(){return!1})),Kt)),$t=Object(p.c)(null,(Mt={},Object(P.a)(Mt,F,(function(t,n){return n.payload})),Object(P.a)(Mt,w,(function(){return null})),Mt)),tn=Object(p.c)(null,(_t={},Object(P.a)(_t,m,(function(t){return t})),Object(P.a)(_t,C,(function(t){return t})),Object(P.a)(_t,N,(function(t){return t})),_t)),nn=Object(Qt.c)({items:Vt,filter:Yt,loading:Zt,idForEdit:$t,error:tn}),en=Object(p.a)({reducer:{contacts:nn},devTools:!1,middleware:Object(Wt.a)(Object(p.d)())}),rn=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,93)).then((function(n){var e=n.getCLS,r=n.getFID,a=n.getFCP,c=n.getLCP,o=n.getTTFB;e(t),r(t),a(t),c(t),o(t)}))};o.a.render(Object(r.jsxs)(i.a,{store:en,children:[Object(r.jsx)(Gt,{}),","]}),document.getElementById("root")),rn()}},[[90,1,2]]]);
//# sourceMappingURL=main.35b5a0da.chunk.js.map